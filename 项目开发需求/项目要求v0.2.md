# 项目迭代需求
1. readme.md需要需要显示的说明代码中prompt和模型的配置位置，以方便我进行prompt以及模型调整。
2. 我每次对项目做调整在readme.md中都需要调整成最新的调用方式。
3. 调整调用大模型时候的prompt模板为以下内容：
```
请根据以下信息生成一张真实的客厅家装效果图：
原始客厅图片：{data\user\{用户客厅图片}}
用户选择的家具：[{'name': '{家具名称}', 'path': '{图片路径}'}]
家具摆放位置：[{'left': 37.278216025038915, 'top': 323.90817855453935, 'scaleX': 0.5614435469956235, 'scaleY': 0.5614435469956235, 'angle': 0}]\n        \n        
要求：
1. 客厅的原始图片不要做任何变动\
2. 家具的外形不要做任何变化、但为了美观，可以适当调整家具的摆放位置、角度、大小。自然地融入到指定位置
3. 确保家具的比例、光影、透视都符合真实场景
4. 整体效果要协调美观"

"negative_prompt": "模糊, 变形, 不真实, 低质量",
3. 注意图片内容不是直接传递字符串，而是要读取图片内容然后传给prompt参考下面方式
```
import requests

def read_image_file(file_path):
    """读取图片文件并返回其二进制数据"""
    with open(file_path, 'rb') as f:
        return f.read()

def call_wanx_api(background_img_data, furniture_img_data, api_token):
    """调用wanx API进行图片合成"""
    function_json = {
        "prompt": "结合客厅背景和沙发图像生成一张新的客厅效果图。",
        "size": "1024*1024"  # 根据需要调整尺寸
    }
    
    response = requests.post(
        'https://api.wanx.example.com/v1/images/generations',  # 假设的API端点，请替换为真实URL
        files={
            'background': ('客厅.jpg', background_img_data, 'image/jpeg'),
            'furniture': ('沙发.jpg', furniture_img_data, 'image/jpeg')
        },
        data=function_json,
        headers={'Authorization': f'Bearer {api_token}'}  # 使用您的API Token
    )
    
    if response.status_code == 200:
        result_image_url = response.json().get('url')
        print(f"成功获取结果图片: {result_image_url}")
    else:
        print(f"调用API失败: {response.status_code}, {response.text}")

if __name__ == '__main__':
    # 图片文件路径
    background_image_path = 'D:\\客厅.jpg'
    furniture_image_path = 'D:\\沙发.jpg'

    # 读取图片数据
    background_img_data = read_image_file(background_image_path)
    furniture_img_data = read_image_file(furniture_image_path)

    # 调用API (请在运行前填入您的Token)
    api_token = ''  # 在此处填入您的API Token
    
    call_wanx_api(background_img_data, furniture_img_data, api_token)
```
